/**
 * Напишите генератор паролей. Составьте три уровня сложности генерации паролей (вместе
 * с их длиной) и спрашивайте у пользователя, какой уровень сложности ему нужен. Проявите свою
 * изобретательность: надёжные пароли должны состоять из сочетания строчных букв, прописных
 * букв, цифр и символов. Пароли должны генерироваться случайным образом каждый раз, когда
 * пользователь запрашивает новый пароль.
*/
#include "password_generator.h"

using namespace std;


int main() {
    int level = 0;
    char continue_generation = 'n';

    do {
        cout << "Выберите уровень сложности пароля:" << endl;
        cout << "1 - Базовый (8 символов: буквы и цифры)" << endl;
        cout << "2 - Средний (12 символов: буквы, цифры и спец. символы)" << endl;
        cout << "3 - Сложный (16 символов: гарантированное включение всех типов символов)" << endl;
        cout << "Введите уровень (1-3): ";
        
        // Проверка корректности ввода
        if (!(cin >> level)) {
            cerr << "Ошибка: введите число" << endl;
            cin.clear();
            cin.ignore(10000, '\n');
            continue;
        }

        if (ValidateLevel(level)) {
            string password = GeneratePassword(level);
            cout << "Сгенерированный пароль: " << password << endl;
        }

        cout << "Хотите сгенерировать еще один пароль? (y/n): ";
        cin >> continue_generation;
        
    } while (continue_generation == 'y' || continue_generation == 'Y');

    return 0;
}